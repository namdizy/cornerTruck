<ion-content padding >
  <ion-card class="ct-login-content">
    <ion-card-header>
      LOGIN
    </ion-card-header>
    <ion-card-content>
      <div padding>
        <ion-segment [(ngModel)]="loginSegment">
          <ion-segment-button value="users">
            People
          </ion-segment-button>
          <ion-segment-button value="trucks">
            Trucks
          </ion-segment-button>
        </ion-segment>
      </div>

      <div [ngSwitch]="loginSegment">
        <div class="ct-error-message" *ngIf="erroMsg">
          <p>{{erroMsg}}</p>
        </div>
        <form [formGroup]="loginForm" *ngSwitchCase="'users'">
          <ion-list>
            <ion-item>
              <ion-label floating>Username</ion-label>
              <ion-input formControlName="username" type="text"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>Password</ion-label>
              <ion-input formControlName="password" type="password"></ion-input>
            </ion-item>
          </ion-list>
          <div padding>
            <button ion-button color="primary" (click)="login()" [disabled]="!loginForm.valid"   block>Sign in</button>
            <button ion-button color="primary" (click)="goToRegisterPage()" clear block>Join us</button>
          </div>
        </form>

        <form [formGroup]="loginTruckForm" *ngSwitchCase="'trucks'">
          <ion-list>
            <ion-item>
              <ion-label floating>Username</ion-label>
              <ion-input formControlName="username" type="text"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>Password</ion-label>
              <ion-input formControlName="password" type="password"></ion-input>
            </ion-item>
          </ion-list>
          <div padding>
            <button ion-button color="primary" (click)="foodTruckLogin()" [disabled]="!loginTruckForm.valid"   block>Sign in</button>
            <button ion-button color="primary" (click)="goToRegisterTruckPage()" clear block>Join us</button>
          </div>
        </form>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>
